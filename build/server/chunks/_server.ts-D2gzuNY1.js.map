{"version":3,"file":"_server.ts-D2gzuNY1.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/monitors/_id_/toggle/_server.ts.js"],"sourcesContent":["import { error, json } from \"@sveltejs/kit\";\nimport { z } from \"zod\";\nimport { m as monitorIdSchema, M as MonitorService } from \"../../../../../../chunks/service3.js\";\nimport { J as JWTService } from \"../../../../../../chunks/jwt.js\";\nconst POST = async ({ params, cookies }) => {\n  try {\n    const sessionToken = cookies.get(\"session\");\n    if (!sessionToken) {\n      throw error(401, \"Authentication required\");\n    }\n    const payload = JWTService.verifyAccessToken(sessionToken);\n    if (!payload) {\n      throw error(401, \"Invalid session token\");\n    }\n    const { id } = monitorIdSchema.parse(params);\n    const updatedMonitor = await MonitorService.toggleMonitorActive(payload.userId, id);\n    if (!updatedMonitor) {\n      throw error(404, \"Monitor not found or access denied\");\n    }\n    return json({\n      success: true,\n      message: `Monitor ${updatedMonitor.isActive ? \"activated\" : \"deactivated\"} successfully`,\n      data: updatedMonitor\n    });\n  } catch (err) {\n    console.error(\"Toggle monitor error:\", err);\n    if (err instanceof z.ZodError) {\n      throw error(400, {\n        message: \"Invalid monitor ID\",\n        details: err.errors\n      });\n    }\n    if (err && typeof err === \"object\" && \"status\" in err) {\n      throw err;\n    }\n    throw error(500, \"Failed to toggle monitor status\");\n  }\n};\nexport {\n  POST\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAIK,MAAC,IAAI,GAAG,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK;AAC5C,EAAE,IAAI;AACN,IAAI,MAAM,YAAY,GAAG,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC;AAC/C,IAAI,IAAI,CAAC,YAAY,EAAE;AACvB,MAAM,MAAM,KAAK,CAAC,GAAG,EAAE,yBAAyB,CAAC;AACjD,IAAI;AACJ,IAAI,MAAM,OAAO,GAAG,UAAU,CAAC,iBAAiB,CAAC,YAAY,CAAC;AAC9D,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB,MAAM,MAAM,KAAK,CAAC,GAAG,EAAE,uBAAuB,CAAC;AAC/C,IAAI;AACJ,IAAI,MAAM,EAAE,EAAE,EAAE,GAAG,eAAe,CAAC,KAAK,CAAC,MAAM,CAAC;AAChD,IAAI,MAAM,cAAc,GAAG,MAAM,cAAc,CAAC,mBAAmB,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;AACvF,IAAI,IAAI,CAAC,cAAc,EAAE;AACzB,MAAM,MAAM,KAAK,CAAC,GAAG,EAAE,oCAAoC,CAAC;AAC5D,IAAI;AACJ,IAAI,OAAO,IAAI,CAAC;AAChB,MAAM,OAAO,EAAE,IAAI;AACnB,MAAM,OAAO,EAAE,CAAC,QAAQ,EAAE,cAAc,CAAC,QAAQ,GAAG,WAAW,GAAG,aAAa,CAAC,aAAa,CAAC;AAC9F,MAAM,IAAI,EAAE;AACZ,KAAK,CAAC;AACN,EAAE,CAAC,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,GAAG,CAAC;AAC/C,IAAI,IAAI,GAAG,YAAY,CAAC,CAAC,QAAQ,EAAE;AACnC,MAAM,MAAM,KAAK,CAAC,GAAG,EAAE;AACvB,QAAQ,OAAO,EAAE,oBAAoB;AACrC,QAAQ,OAAO,EAAE,GAAG,CAAC;AACrB,OAAO,CAAC;AACR,IAAI;AACJ,IAAI,IAAI,GAAG,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,QAAQ,IAAI,GAAG,EAAE;AAC3D,MAAM,MAAM,GAAG;AACf,IAAI;AACJ,IAAI,MAAM,KAAK,CAAC,GAAG,EAAE,iCAAiC,CAAC;AACvD,EAAE;AACF;;;;"}