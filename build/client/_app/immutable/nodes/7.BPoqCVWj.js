import{c as Se,l as qe}from"../chunks/DY2n60aa.js";import"../chunks/B3U0dzdT.js";import{p as Ne,a as Y,t as c,j as i,k as t,q as o,D as je,b as f,d as Fe,y as x,x as n,m as y,F as g,v as X,w as Le,z as s,r as be,A as Z,B as G,C as Me,i as d,n as He}from"../chunks/Dj_MzOAd.js";import{a as w}from"../chunks/DpAHg45Y.js";import{i as K}from"../chunks/Cuz_4TPC.js";import{r as h,s as Ue}from"../chunks/ChDYIZxk.js";import{b as _e,a as xe}from"../chunks/Cfjr_KEZ.js";import{b as Q}from"../chunks/CZmyqRcw.js";import{p as Be}from"../chunks/Bfc47y5P.js";import{i as Ie}from"../chunks/C-FtVNBC.js";import{l as ye}from"../chunks/C26VBlX9.js";l[g]="src/routes/settings/+page.svelte";var Re=w(X('<div class="p-6"><div class="bg-red-50 border border-red-200 rounded-lg p-4"><p class="text-sm text-red-700"> </p></div></div>'),l[g],[[110,8,[[111,10,[[112,12]]]]]]),$e=w(X('<div class="p-6"><div class="bg-green-50 border border-green-200 rounded-lg p-4"><p class="text-sm text-green-700"> </p></div></div>'),l[g],[[118,8,[[119,10,[[120,12]]]]]]),Je=w(Le('<svg class="animate-spin -ml-1 mr-3 h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Saving...',1),l[g],[[265,12,[[266,14],[267,14]]]]),Oe=w(X('<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="mb-8"><nav class="flex" aria-label="Breadcrumb"><ol role="list" class="flex items-center space-x-4"><li><a href="/" class="text-gray-400 hover:text-gray-500"><span class="sr-only">Home</span> Dashboard</a></li> <li><div class="flex items-center"><span class="text-gray-400 mx-4">/</span> <span class="text-gray-900 font-medium">Settings</span></div></li></ol></nav> <h1 class="mt-4 text-3xl font-bold text-gray-900">Account Settings</h1> <p class="mt-2 text-gray-600">Manage your account preferences and notifications</p></div> <div class="bg-white shadow-lg rounded-lg overflow-hidden"><form class="divide-y divide-gray-200"><!> <!> <div class="p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Profile Information</h3> <div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><div><label for="name" class="block text-sm font-medium text-gray-700 mb-2">Full Name</label> <input id="name" type="text" placeholder="Enter your full name" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"/></div> <div><label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address</label> <input id="email" type="email" placeholder="your@email.com" disabled class="block w-full rounded-md border-gray-300 shadow-sm bg-gray-50 text-gray-500"/> <p class="text-xs text-gray-500 mt-1">Email cannot be changed</p></div></div></div> <div class="p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Notification Preferences</h3> <div class="space-y-4"><div class="flex items-center justify-between"><div><label for="email-notifications" class="text-sm font-medium text-gray-700">Email Notifications</label> <p class="text-sm text-gray-500">Receive monitor alerts via email</p></div> <input id="email-notifications" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"/></div> <div class="flex items-center justify-between"><div><label for="push-notifications" class="text-sm font-medium text-gray-700">Push Notifications</label> <p class="text-sm text-gray-500">Receive browser push notifications</p></div> <input id="push-notifications" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"/></div> <div><label for="frequency" class="block text-sm font-medium text-gray-700 mb-2">Notification Frequency</label> <select id="frequency" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"><option>Immediate</option><option>Hourly Digest</option><option>Daily Digest</option><option>Weekly Summary</option></select></div></div></div> <div class="p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Preferences</h3> <div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><div><label for="timezone" class="block text-sm font-medium text-gray-700 mb-2">Timezone</label> <select id="timezone" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"><option>UTC</option><option>Eastern Time</option><option>Central Time</option><option>Mountain Time</option><option>Pacific Time</option><option>London</option><option>Paris</option><option>Tokyo</option></select></div> <div><label for="theme" class="block text-sm font-medium text-gray-700 mb-2">Theme</label> <select id="theme" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"><option>Light</option><option>Dark</option><option>Auto</option></select></div></div></div> <div class="px-6 py-4 bg-gray-50 flex justify-end space-x-3"><a href="/" class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Cancel</a> <button type="submit"><!></button></div></form></div> <div class="mt-8 bg-white shadow-lg rounded-lg overflow-hidden border border-red-200"><div class="p-6"><h3 class="text-lg font-medium text-red-900 mb-2">Danger Zone</h3> <p class="text-sm text-red-600 mb-4">These actions cannot be undone</p> <div class="space-y-3"><button type="button" class="px-4 py-2 text-sm font-medium text-red-700 bg-red-50 border border-red-200 rounded-md hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">Delete All Monitors</button> <button type="button" class="px-4 py-2 text-sm font-medium text-red-700 bg-red-50 border border-red-200 rounded-md hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">Delete Account</button></div></div></div></div>'),l[g],[[81,0,[[83,2,[[84,4,[[85,6,[[86,8,[[87,10,[[88,12]]]]],[92,8,[[93,10,[[94,12],[95,12]]]]]]]]],[101,4],[102,4]]],[106,2,[[107,4,[[126,6,[[127,8],[128,8,[[129,10,[[130,12],[133,12]]],[141,10,[[142,12],[145,12],[153,12]]]]]]],[159,6,[[160,8],[161,8,[[162,10,[[163,12,[[164,14],[167,14]]],[169,12]]],[177,10,[[178,12,[[179,14],[182,14]]],[184,12]]],[192,10,[[193,12],[196,12,[[201,14],[202,14],[203,14],[204,14]]]]]]]]],[211,6,[[212,8],[213,8,[[214,10,[[215,12],[218,12,[[223,14],[224,14],[225,14],[226,14],[227,14],[228,14],[229,14],[230,14]]]]],[234,10,[[235,12],[238,12,[[243,14],[244,14],[245,14]]]]]]]]],[252,6,[[253,8],[259,8]]]]]]],[279,2,[[280,4,[[281,6],[282,6],[284,6,[[285,8],[292,8]]]]]]]]]]);function l(he,we){Se(new.target),Ne(we,!1,l);let v=y(!1),u=y(""),b=y(""),a=y({email:"",name:"",notifications:{email:!0,push:!1,frequency:"immediate"},preferences:{timezone:"UTC",theme:"light"}});async function ke(){try{const e=(await x(fetch("/api/auth/me")))();if(e.ok){const r=(await x(e.json()))();n(a,o(a).email=r.email||""),n(a,o(a).name=r.name||"")}}catch(e){console.error(...ye("error","Failed to load user settings:",e))}}async function Te(){d(v,!0),d(u,""),d(b,"");try{const e=(await x(fetch("/api/auth/me",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o(a).name,preferences:o(a).preferences,notifications:o(a).notifications})})))();if(!e.ok){if(He(e.status,401)){d(u,"Please log in to update settings");return}const r=(await x(e.json().catch(()=>({}))))();throw new Error(r.error||`HTTP ${e.status}`)}d(b,"Settings updated successfully!")}catch(e){console.error(...ye("error","Error saving settings:",e)),d(u,e instanceof Error?e.message:"Failed to save settings")}finally{d(v,!1)}}ke();var Ae={...qe()};Ie();var k=Oe(),ee=t(i(k),2),T=i(ee),te=i(T);{var Ce=e=>{var r=Re(),m=i(r),p=i(m),W=i(p,!0);s(p),s(m),s(r),c(()=>be(W,o(u))),f(e,r)};Y(()=>K(te,e=>{o(u)&&e(Ce)}),"if",l,109,6)}var ae=t(te,2);{var De=e=>{var r=$e(),m=i(r),p=i(m),W=i(p,!0);s(p),s(m),s(r),c(()=>be(W,o(b))),f(e,r)};Y(()=>K(ae,e=>{o(b)&&e(De)}),"if",l,117,6)}var A=t(ae,2),oe=t(i(A),2),C=i(oe),ie=t(i(C),2);h(ie),s(C);var se=t(C,2),re=t(i(se),2);h(re),Z(2),s(se),s(oe),s(A);var D=t(A,2),ne=t(i(D),2),E=i(ne),le=t(i(E),2);h(le),s(E);var P=t(E,2),de=t(i(P),2);h(de),s(P);var ce=t(P,2),z=t(i(ce),2);c(()=>{o(a),G(()=>{})});var S=i(z);S.value=S.__value="immediate";var q=t(S);q.value=q.__value="hourly";var N=t(q);N.value=N.__value="daily";var ve=t(N);ve.value=ve.__value="weekly",s(z),s(ce),s(ne),s(D);var j=t(D,2),ue=t(i(j),2),F=i(ue),L=t(i(F),2);c(()=>{o(a),G(()=>{})});var M=i(L);M.value=M.__value="UTC";var H=t(M);H.value=H.__value="America/New_York";var U=t(H);U.value=U.__value="America/Chicago";var B=t(U);B.value=B.__value="America/Denver";var I=t(B);I.value=I.__value="America/Los_Angeles";var R=t(I);R.value=R.__value="Europe/London";var $=t(R);$.value=$.__value="Europe/Paris";var me=t($);me.value=me.__value="Asia/Tokyo",s(L),s(F);var pe=t(F,2),J=t(i(pe),2);c(()=>{o(a),G(()=>{})});var O=i(J);O.value=O.__value="light";var V=t(O);V.value=V.__value="dark";var fe=t(V);fe.value=fe.__value="auto",s(J),s(pe),s(ue),s(j);var ge=t(j,2),_=t(i(ge),2),Ee=i(_);{var Pe=e=>{var r=Je();Z(),f(e,r)},ze=e=>{var r=Me("Save Changes");f(e,r)};Y(()=>K(Ee,e=>{o(v)?e(Pe):e(ze,!1)}),"if",l,264,10)}return s(_),s(ge),s(T),s(ee),Z(2),s(k),c(()=>{_.disabled=o(v),Ue(_,1,`px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${o(v)?"opacity-50 cursor-not-allowed":""}`)}),_e(ie,()=>o(a).name,e=>n(a,o(a).name=e)),_e(re,()=>o(a).email,e=>n(a,o(a).email=e)),xe(le,()=>o(a).notifications.email,e=>n(a,o(a).notifications.email=e)),xe(de,()=>o(a).notifications.push,e=>n(a,o(a).notifications.push=e)),Q(z,()=>o(a).notifications.frequency,e=>n(a,o(a).notifications.frequency=e)),Q(L,()=>o(a).preferences.timezone,e=>n(a,o(a).preferences.timezone=e)),Q(J,()=>o(a).preferences.theme,e=>n(a,o(a).preferences.theme=e)),je("submit",T,Be(Te)),f(he,k),Fe(Ae)}export{l as component};
