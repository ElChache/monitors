{"version":3,"file":"_server.ts-Ck3ZJRK0.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/ai/suggestions/_server.ts.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nconst POST = async ({ request }) => {\n  try {\n    const { prompt, context } = await request.json();\n    const suggestions = generateMockSuggestions(prompt);\n    await new Promise((resolve) => setTimeout(resolve, 500 + Math.random() * 500));\n    return json({\n      success: true,\n      suggestions\n    });\n  } catch (error) {\n    console.error(\"AI suggestions error:\", error);\n    return json({ error: \"Failed to generate suggestions\" }, { status: 500 });\n  }\n};\nfunction generateMockSuggestions(text) {\n  const mockSuggestions = [];\n  const lowerText = text.toLowerCase();\n  if (!lowerText.includes(\"when\") && !lowerText.includes(\"if\")) {\n    mockSuggestions.push({\n      id: \"spec_1\",\n      type: \"specificity\",\n      title: \"Add trigger condition\",\n      description: \"Consider adding a specific condition to trigger your monitor\",\n      suggested_text: `${text} when [condition is met]`,\n      confidence: 0.85,\n      reasoning: \"Monitors work better with specific trigger conditions\"\n    });\n  }\n  if (lowerText.includes(\"stock\") || lowerText.includes(\"price\") || lowerText.includes(\"$\")) {\n    mockSuggestions.push({\n      id: \"stock_1\",\n      type: \"improvement\",\n      title: \"Specify price threshold\",\n      description: \"Add a specific price point for better monitoring accuracy\",\n      suggested_text: text.includes(\"$\") ? text : `${text} below $[amount]`,\n      confidence: 0.92,\n      reasoning: \"Stock monitors need specific price thresholds for accurate alerts\"\n    });\n  }\n  if (lowerText.includes(\"weather\") || lowerText.includes(\"rain\") || lowerText.includes(\"snow\")) {\n    mockSuggestions.push({\n      id: \"weather_1\",\n      type: \"clarity\",\n      title: \"Add location\",\n      description: \"Weather monitors work better with specific locations\",\n      suggested_text: lowerText.includes(\" in \") ? text : `${text} in [city name]`,\n      confidence: 0.88,\n      reasoning: \"Weather data requires location specificity for accurate forecasts\"\n    });\n  }\n  if (text.length > 100) {\n    mockSuggestions.push({\n      id: \"clarity_1\",\n      type: \"clarity\",\n      title: \"Simplify description\",\n      description: \"Consider breaking this into multiple monitors for better accuracy\",\n      suggested_text: text.split(\".\")[0] || text.substring(0, 80) + \"...\",\n      confidence: 0.75,\n      reasoning: \"Simpler prompts often yield more accurate monitoring results\"\n    });\n  }\n  return mockSuggestions.slice(0, 3);\n}\nexport {\n  POST\n};\n"],"names":[],"mappings":"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"}